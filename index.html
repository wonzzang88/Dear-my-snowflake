<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë„ˆì˜ ëˆˆì†¡ì´ë¥¼ ì°¾ì•„ - SNOWFLAKE</title>
    <style>
        /* ê¸°ì¡´ í°íŠ¸ ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        @font-face { font-family: 'DNFBitBit'; src: url('fonts/DNFBitBitv2.ttf') format('truetype'); }
        @font-face { font-family: 'Galmuri9'; src: url('fonts/Galmuri9.ttf') format('truetype'); }

        * {
            margin: 0; padding: 0;
            font-family: 'Galmuri9', sans-serif;
            image-rendering: pixelated;
            user-select: none;
            box-sizing: border-box;
        }

        body {
            background-color: #0b0e14;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            color: white;
            background: url('images/classroom.png') no-repeat center center;
            background-size: cover;
        }

        #bg-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }

        .title-container {
            position: relative;
            z-index: 2;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 40px 20px;
            width: 90%;
            max-width: 600px;
            border: 4px double rgba(0, 251, 255, 0.8);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        h1 {
            font-family: 'DNFBitBit', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #00fbff;
            text-shadow: 3px 3px #000;
        }

        .subtitle { font-size: 1.1rem; margin-bottom: 30px; color: #fff; text-shadow: 2px 2px #000; }

        /* ğŸŒŸ ëˆ„ì  ì¡°íšŒìˆ˜ ìŠ¤íƒ€ì¼ */
        .view-count-box {
            margin-bottom: 25px;
            font-size: 0.9rem;
            color: #ffeb3b;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            display: inline-block;
            border-radius: 20px;
        }
        #visit-count { font-weight: bold; margin-left: 5px; }

        .start-btn {
            font-family: 'Galmuri9', sans-serif;
            background-color: #fff;
            color: #000;
            border: none;
            padding: 15px 45px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            border-bottom: 6px solid #aaa;
        }

        .start-btn:hover { background-color: #00fbff; border-bottom: 6px solid #008a8c; transform: translateY(-2px); }
        .start-btn:active { transform: translateY(4px); border-bottom: 2px solid #008a8c; }

        .footer { position: absolute; bottom: 30px; font-size: 0.8rem; opacity: 0.7; z-index: 2; }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="title-container" id="main-ui">
        <h1>DEAR MY SNOWFLAKE</h1>
        <div class="subtitle">ë‹¨ í•˜ë‚˜ì˜ ëˆˆì†¡ì´ë¥¼ ì°¾ì•„ì„œ</div>
        
        <div class="view-count-box">
            VISITORS: <span id="visit-count">Loading...</span>
        </div>
        <br>
        
        <button class="start-btn" onclick="startTransition()">START</button>
    </div>

    <div class="footer">Â© 2026 PIXEL WINTER PROJECT</div>

<script>
    // ğŸŒŸ ëˆ„ì  ì¡°íšŒìˆ˜ ë¡œì§ (ë¬´ë£Œ API í™œìš©)
    // 'pixel-winter-2026' ë¶€ë¶„ì— ë³¸ì¸ë§Œì˜ ê³ ìœ í•œ ì´ë¦„ì„ ë„£ìœ¼ë©´ ìƒˆë¡œìš´ ì¹´ìš´í„°ê°€ ìƒì„±ë©ë‹ˆë‹¤.
    async function updateVisitCount() {
        const counterName = 'pixel-snowflake-game-2026'; 
        try {
            const response = await fetch(`https://api.countapi.xyz/hit/${counterName}/visits`);
            const data = await response.json();
            document.getElementById('visit-count').innerText = data.value.toLocaleString();
        } catch (error) {
            // API ì˜¤ë¥˜ ì‹œ ë¡œì»¬ ë°ì´í„°ë¡œ ëŒ€ì²´ (í…ŒìŠ¤íŠ¸ìš©)
            let count = localStorage.getItem('local_visit_count') || 0;
            count++;
            localStorage.setItem('local_visit_count', count);
            document.getElementById('visit-count').innerText = count;
        }
    }

    updateVisitCount();

    function startTransition() {
        document.getElementById('main-ui').style.opacity = '0';
        document.getElementById('main-ui').style.transition = '0.5s';
        setTimeout(() => {
            window.location.href = 'description.html';
        }, 500);
    }

    // ë°°ê²½ ëˆˆ ì• ë‹ˆë©”ì´ì…˜ (ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼)
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let snowflakes = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize);
    resize();

    class TitleSnow {
        constructor() { this.reset(); this.y = Math.random() * canvas.height; }
        reset() {
            this.x = Math.random() * canvas.width;
            this.y = -10;
            this.size = Math.floor(Math.random() * 3) + 2;
            this.speed = Math.random() * 0.8 + 0.4;
        }
        update() { this.y += this.speed; if (this.y > canvas.height) this.reset(); }
        draw() {
            ctx.fillStyle = "rgba(255, 255, 255, 0.6)";
            ctx.fillRect(Math.floor(this.x), Math.floor(this.y), this.size, this.size);
        }
    }
    for(let i=0; i<70; i++) snowflakes.push(new TitleSnow());
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        snowflakes.forEach(s => { s.update(); s.draw(); });
        requestAnimationFrame(animate);
    }
    animate();
</script>
</body>
</html>
